<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enchanted Forest Time Calculator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(to bottom, #0a3d1f, #1b5e3a, #0a3d1f);
            color: #e8f5e9;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 10;
        }
        
        header {
            text-align: center;
            padding: 20px 0 40px;
            position: relative;
        }
        
        h1 {
            font-size: 3.5rem;
            text-shadow: 0 0 15px #4caf50, 0 0 25px #2e7d32;
            margin-bottom: 10px;
            background: linear-gradient(to right, #c8e6c9, #81c784, #4caf50);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            letter-spacing: 2px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #c8e6c9;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        .forest-container {
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
            justify-content: center;
            margin-bottom: 40px;
        }
        
        .tool-card {
            background: rgba(13, 71, 35, 0.85);
            border-radius: 20px;
            padding: 30px;
            width: 100%;
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            border: 2px solid #4caf50;
            backdrop-filter: blur(5px);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.7);
        }
        
        .tool-title {
            font-size: 1.8rem;
            color: #a5d6a7;
            margin-bottom: 25px;
            text-align: center;
            border-bottom: 2px solid #4caf50;
            padding-bottom: 10px;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #c8e6c9;
            font-weight: 600;
        }
        
        .time-input-container {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        input[type="time"], input[type="text"], select {
            padding: 12px 15px;
            border-radius: 10px;
            border: 2px solid #388e3c;
            background-color: #1b5e3a;
            color: #e8f5e9;
            font-size: 1rem;
        }
        
        .time-input-12hr {
            width: 100px;
        }
        
        .ampm-select {
            width: 80px;
            text-align: center;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #4caf50;
            box-shadow: 0 0 10px #4caf50;
        }
        
        .button-group {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 25px;
            flex-wrap: wrap;
        }
        
        button {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            background: linear-gradient(to bottom, #4caf50, #2e7d32);
            color: white;
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        button:hover {
            background: linear-gradient(to bottom, #66bb6a, #388e3c);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }
        
        .result {
            margin-top: 25px;
            padding: 20px;
            background-color: rgba(27, 94, 58, 0.7);
            border-radius: 10px;
            text-align: center;
            font-size: 1.3rem;
            color: #a5d6a7;
            border: 1px solid #4caf50;
            display: none;
        }
        
        .time-entry {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .remove-time {
            background: #d32f2f;
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .remove-time:hover {
            background: #f44336;
        }
        
        .total-time {
            font-size: 1.8rem;
            color: #4caf50;
            font-weight: bold;
            margin-top: 10px;
        }
        
        /* Forest and animal animations */
        .tree {
            position: absolute;
            z-index: 1;
        }
        
        .animal {
            position: absolute;
            z-index: 2;
        }
        
        .bird {
            position: absolute;
            z-index: 3;
        }
        
        /* Trees */
        .tree1 { bottom: 0; left: 5%; width: 120px; height: 250px; background: linear-gradient(to right, #3e2723, #5d4037); clip-path: polygon(50% 0, 60% 20%, 100% 20%, 100% 100%, 0 100%, 0 20%, 40% 20%); }
        .tree2 { bottom: 0; right: 10%; width: 100px; height: 220px; background: linear-gradient(to right, #3e2723, #5d4037); clip-path: polygon(50% 0, 60% 20%, 100% 20%, 100% 100%, 0 100%, 0 20%, 40% 20%); }
        .tree3 { bottom: 0; left: 20%; width: 80px; height: 180px; background: linear-gradient(to right, #3e2723, #5d4037); clip-path: polygon(50% 0, 60% 20%, 100% 20%, 100% 100%, 0 100%, 0 20%, 40% 20%); }
        .tree4 { bottom: 0; right: 25%; width: 90px; height: 200px; background: linear-gradient(to right, #3e2723, #5d4037); clip-path: polygon(50% 0, 60% 20%, 100% 20%, 100% 100%, 0 100%, 0 20%, 40% 20%); }
        .tree5 { bottom: 0; left: 70%; width: 110px; height: 230px; background: linear-gradient(to right, #3e2723, #5d4037); clip-path: polygon(50% 0, 60% 20%, 100% 20%, 100% 100%, 0 100%, 0 20%, 40% 20%); }
        
        /* Animal animations */
        .squirrel {
            width: 40px;
            height: 25px;
            background: #8d6e63;
            border-radius: 50%;
            bottom: 220px;
            left: 15%;
            animation: moveSquirrel 20s infinite alternate ease-in-out;
        }
        
        .squirrel:before, .squirrel:after {
            content: '';
            position: absolute;
            background: #8d6e63;
            border-radius: 50%;
        }
        
        .squirrel:before {
            width: 15px;
            height: 15px;
            top: -8px;
            left: 5px;
        }
        
        .squirrel:after {
            width: 25px;
            height: 15px;
            top: -5px;
            right: -5px;
        }
        
        .rabbit {
            width: 30px;
            height: 40px;
            background: #f5f5f5;
            border-radius: 50%;
            bottom: 180px;
            right: 20%;
            animation: moveRabbit 25s infinite alternate ease-in-out;
        }
        
        .rabbit:before, .rabbit:after {
            content: '';
            position: absolute;
            background: #f5f5f5;
            border-radius: 50%;
        }
        
        .rabbit:before {
            width: 15px;
            height: 25px;
            top: -15px;
            left: 3px;
            transform: rotate(45deg);
        }
        
        .rabbit:after {
            width: 15px;
            height: 25px;
            top: -15px;
            right: 3px;
            transform: rotate(-45deg);
        }
        
        .deer {
            width: 50px;
            height: 70px;
            background: #a1887f;
            border-radius: 40% 40% 0 0;
            bottom: 250px;
            left: 30%;
            animation: moveDeer 30s infinite alternate ease-in-out;
        }
        
        .deer:before, .deer:after {
            content: '';
            position: absolute;
            background: #a1887f;
            border-radius: 50%;
        }
        
        .deer:before {
            width: 10px;
            height: 30px;
            top: -20px;
            left: 10px;
            transform: rotate(45deg);
        }
        
        .deer:after {
            width: 10px;
            height: 30px;
            top: -20px;
            right: 10px;
            transform: rotate(-45deg);
        }
        
        .fox {
            width: 45px;
            height: 25px;
            background: #ff5722;
            border-radius: 50%;
            bottom: 190px;
            left: 60%;
            animation: moveFox 22s infinite alternate ease-in-out;
        }
        
        .fox:before {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background: #ff5722;
            border-radius: 50%;
            top: -10px;
            left: 5px;
        }
        
        .fox:after {
            content: '';
            position: absolute;
            width: 25px;
            height: 15px;
            background: #ff5722;
            border-radius: 50%;
            top: -5px;
            right: -5px;
        }
        
        .owl {
            width: 40px;
            height: 40px;
            background: #795548;
            border-radius: 50%;
            bottom: 300px;
            right: 15%;
            animation: moveOwl 40s infinite alternate ease-in-out;
        }
        
        .owl:before, .owl:after {
            content: '';
            position: absolute;
            background: white;
            border-radius: 50%;
            width: 12px;
            height: 12px;
            top: 10px;
        }
        
        .owl:before {
            left: 8px;
        }
        
        .owl:after {
            right: 8px;
        }
        
        /* Birds */
        .bird1 { top: 15%; left: 5%; width: 30px; height: 20px; background: #ff9800; border-radius: 50%; animation: fly 15s linear infinite; animation-delay: 0s; }
        .bird2 { top: 25%; left: 15%; width: 25px; height: 15px; background: #f44336; border-radius: 50%; animation: fly 18s linear infinite; animation-delay: 3s; }
        .bird3 { top: 20%; right: 10%; width: 20px; height: 15px; background: #2196f3; border-radius: 50%; animation: fly 20s linear infinite; animation-delay: 6s; }
        .bird4 { top: 30%; right: 20%; width: 28px; height: 18px; background: #9c27b0; border-radius: 50%; animation: fly 22s linear infinite; animation-delay: 9s; }
        .bird5 { top: 10%; left: 40%; width: 22px; height: 16px; background: #4caf50; border-radius: 50%; animation: fly 16s linear infinite; animation-delay: 2s; }
        .bird6 { top: 35%; left: 50%; width: 26px; height: 17px; background: #ffeb3b; border-radius: 50%; animation: fly 19s linear infinite; animation-delay: 5s; }
        .bird7 { top: 15%; right: 35%; width: 24px; height: 16px; background: #e91e63; border-radius: 50%; animation: fly 21s linear infinite; animation-delay: 8s; }
        
        @keyframes fly {
            0% { transform: translateX(-100px) translateY(0) scale(1); }
            25% { transform: translateX(calc(25vw - 100px)) translateY(-20px) scale(1.1); }
            50% { transform: translateX(calc(50vw - 100px)) translateY(0) scale(1); }
            75% { transform: translateX(calc(75vw - 100px)) translateY(-20px) scale(1.1); }
            100% { transform: translateX(calc(100vw - 100px)) translateY(0) scale(1); }
        }
        
        @keyframes moveSquirrel {
            0% { transform: translateX(0) rotate(0); }
            25% { transform: translateX(calc(25vw - 100px)) rotate(5deg); }
            50% { transform: translateX(calc(50vw - 100px)) rotate(0); }
            75% { transform: translateX(calc(75vw - 100px)) rotate(-5deg); }
            100% { transform: translateX(calc(100vw - 200px)) rotate(0); }
        }
        
        @keyframes moveRabbit {
            0% { transform: translateX(0) scale(1); }
            25% { transform: translateX(calc(25vw - 150px)) scale(1.1); }
            50% { transform: translateX(calc(50vw - 150px)) scale(1); }
            75% { transform: translateX(calc(75vw - 150px)) scale(0.9); }
            100% { transform: translateX(calc(100vw - 300px)) scale(1); }
        }
        
        @keyframes moveDeer {
            0% { transform: translateX(0) scale(1); }
            33% { transform: translateX(calc(33vw - 200px)) scale(1.05); }
            66% { transform: translateX(calc(66vw - 200px)) scale(1); }
            100% { transform: translateX(calc(100vw - 400px)) scale(0.95); }
        }
        
        @keyframes moveFox {
            0% { transform: translateX(0) rotate(0); }
            20% { transform: translateX(calc(20vw - 100px)) rotate(5deg); }
            40% { transform: translateX(calc(40vw - 100px)) rotate(0); }
            60% { transform: translateX(calc(60vw - 100px)) rotate(-5deg); }
            80% { transform: translateX(calc(80vw - 100px)) rotate(0); }
            100% { transform: translateX(calc(100vw - 250px)) rotate(5deg); }
        }
        
        @keyframes moveOwl {
            0% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0); }
        }
        
        .leaf {
            position: absolute;
            width: 20px;
            height: 20px;
            background: #4caf50;
            border-radius: 50% 0;
            animation: fall linear infinite;
        }
        
        @keyframes fall {
            to { transform: translateY(100vh) rotate(360deg); }
        }
        
        .firefly {
            position: absolute;
            width: 5px;
            height: 5px;
            background: #fff9c4;
            border-radius: 50%;
            box-shadow: 0 0 10px 5px #fff9c4;
            animation: flicker 2s infinite alternate;
        }
        
        @keyframes flicker {
            0% { opacity: 0.3; }
            100% { opacity: 1; }
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: #a5d6a7;
            font-size: 0.9rem;
            margin-top: 40px;
            border-top: 1px solid rgba(76, 175, 80, 0.3);
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; }
            .forest-container { flex-direction: column; align-items: center; }
            .tool-card { max-width: 100%; }
            
            .tree, .animal, .bird, .firefly {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Forest background elements -->
    <div class="tree tree1"></div>
    <div class="tree tree2"></div>
    <div class="tree tree3"></div>
    <div class="tree tree4"></div>
    <div class="tree tree5"></div>
    
    <!-- Animals -->
    <div class="animal squirrel"></div>
    <div class="animal rabbit"></div>
    <div class="animal deer"></div>
    <div class="animal fox"></div>
    <div class="animal owl"></div>
    
    <!-- Birds -->
    <div class="bird bird1"></div>
    <div class="bird bird2"></div>
    <div class="bird bird3"></div>
    <div class="bird bird4"></div>
    <div class="bird bird5"></div>
    <div class="bird bird6"></div>
    <div class="bird bird7"></div>
    
    <!-- Falling leaves -->
    <div id="leaves-container"></div>
    
    <!-- Fireflies -->
    <div id="fireflies-container"></div>
    
    <div class="container">
        <header>
            <h1><i class="fas fa-tree"></i> Enchanted Forest Time Calculator</h1>
        </header>
        
        <div class="forest-container">
            <!-- Time Difference Calculator -->
            <div class="tool-card">
                <h2 class="tool-title"><i class="fas fa-clock"></i> Time Difference Calculator (12-Hour)</h2>
                <p>Calculate the duration between two times in 12-hour format</p>
                
                <div class="input-group">
                    <label for="start-time"><i class="fas fa-play-circle"></i> Start Time</label>
                    <div class="time-input-container">
                        <input type="text" id="start-hour" class="time-input-12hr" placeholder="HH" maxlength="2" value="09">
                        <span>:</span>
                        <input type="text" id="start-minute" class="time-input-12hr" placeholder="MM" maxlength="2" value="00">
                        <select id="start-ampm" class="ampm-select">
                            <option value="AM">AM</option>
                            <option value="PM">PM</option>
                        </select>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="end-time"><i class="fas fa-stop-circle"></i> End Time</label>
                    <div class="time-input-container">
                        <input type="text" id="end-hour" class="time-input-12hr" placeholder="HH" maxlength="2" value="05">
                        <span>:</span>
                        <input type="text" id="end-minute" class="time-input-12hr" placeholder="MM" maxlength="2" value="00">
                        <select id="end-ampm" class="ampm-select">
                            <option value="AM">AM</option>
                            <option value="PM" selected>PM</option>
                        </select>
                    </div>
                </div>
                
                <div class="button-group">
                    <button id="calculate-difference">
                        <i class="fas fa-calculator"></i> Calculate Difference
                    </button>
                    <button id="reset-difference">
                        <i class="fas fa-redo"></i> Reset
                    </button>
                </div>
                
                <div class="result" id="difference-result">
                    <p>The time difference is:</p>
                    <div class="total-time" id="difference-output">0 hours, 0 minutes, 0 seconds</div>
                </div>
            </div>
            
            <!-- Time Addition Calculator -->
            <div class="tool-card">
                <h2 class="tool-title"><i class="fas fa-plus-circle"></i> Time Addition Calculator</h2>
                <p>Add multiple time periods together</p>
                
                <div id="time-entries">
                    <div class="time-entry">
                        <input type="time" class="time-input" value="01:30">
                        <button class="remove-time" title="Remove time"><i class="fas fa-times"></i></button>
                    </div>
                </div>
                
                <div class="button-group">
                    <button id="add-time">
                        <i class="fas fa-plus"></i> Add Another Time
                    </button>
                    <button id="calculate-total">
                        <i class="fas fa-calculator"></i> Calculate Total
                    </button>
                    <button id="reset-total">
                        <i class="fas fa-redo"></i> Reset All
                    </button>
                </div>
                
                <div class="result" id="total-result">
                    <p>Total time:</p>
                    <div class="total-time" id="total-output">0 hours, 0 minutes, 0 seconds</div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Enchanted Forest Time Calculator &copy; 2026</p>
        </footer>
    </div>

    <script>
        // Generate falling leaves
        function createLeaves() {
            const leavesContainer = document.getElementById('leaves-container');
            const leafCount = 25;
            
            for (let i = 0; i < leafCount; i++) {
                const leaf = document.createElement('div');
                leaf.classList.add('leaf');
                
                // Random properties
                const size = Math.random() * 15 + 10;
                const left = Math.random() * 100;
                const delay = Math.random() * 20;
                const duration = Math.random() * 10 + 10;
                const color = `hsl(${Math.random() * 60 + 80}, 70%, 50%)`;
                
                leaf.style.width = `${size}px`;
                leaf.style.height = `${size}px`;
                leaf.style.left = `${left}vw`;
                leaf.style.animationDelay = `${delay}s`;
                leaf.style.animationDuration = `${duration}s`;
                leaf.style.backgroundColor = color;
                
                leavesContainer.appendChild(leaf);
            }
        }
        
        // Generate fireflies
        function createFireflies() {
            const firefliesContainer = document.getElementById('fireflies-container');
            const fireflyCount = 15;
            
            for (let i = 0; i < fireflyCount; i++) {
                const firefly = document.createElement('div');
                firefly.classList.add('firefly');
                
                // Random properties
                const left = Math.random() * 100;
                const top = Math.random() * 100;
                const delay = Math.random() * 5;
                const duration = Math.random() * 3 + 2;
                
                firefly.style.left = `${left}vw`;
                firefly.style.top = `${top}vh`;
                firefly.style.animationDelay = `${delay}s`;
                firefly.style.animationDuration = `${duration}s`;
                
                firefliesContainer.appendChild(firefly);
            }
        }
        
        // Convert 12-hour time to 24-hour time
        function convertTo24Hour(hour, minute, ampm) {
            let hour24 = parseInt(hour);
            
            if (ampm === 'PM' && hour24 < 12) {
                hour24 += 12;
            } else if (ampm === 'AM' && hour24 === 12) {
                hour24 = 0;
            }
            
            return {
                hour: hour24,
                minute: parseInt(minute)
            };
        }
        
        // Time Difference Calculator with 12-hour format
        document.getElementById('calculate-difference').addEventListener('click', function() {
            // Get input values
            const startHour = document.getElementById('start-hour').value;
            const startMinute = document.getElementById('start-minute').value;
            const startAmPm = document.getElementById('start-ampm').value;
            
            const endHour = document.getElementById('end-hour').value;
            const endMinute = document.getElementById('end-minute').value;
            const endAmPm = document.getElementById('end-ampm').value;
            
            // Validate inputs
            if (!startHour || !startMinute || !endHour || !endMinute) {
                alert("Please enter valid times in both fields");
                return;
            }
            
            const startHourNum = parseInt(startHour);
            const startMinuteNum = parseInt(startMinute);
            const endHourNum = parseInt(endHour);
            const endMinuteNum = parseInt(endMinute);
            
            if (isNaN(startHourNum) || isNaN(startMinuteNum) || isNaN(endHourNum) || isNaN(endMinuteNum)) {
                alert("Please enter numeric values for hours and minutes");
                return;
            }
            
            if (startHourNum < 1 || startHourNum > 12 || endHourNum < 1 || endHourNum > 12) {
                alert("Hours must be between 1 and 12");
                return;
            }
            
            if (startMinuteNum < 0 || startMinuteNum > 59 || endMinuteNum < 0 || endMinuteNum > 59) {
                alert("Minutes must be between 0 and 59");
                return;
            }
            
            // Convert to 24-hour format
            const startTime24 = convertTo24Hour(startHourNum, startMinuteNum, startAmPm);
            const endTime24 = convertTo24Hour(endHourNum, endMinuteNum, endAmPm);
            
            // Create date objects for calculation
            const startDate = new Date();
            startDate.setHours(startTime24.hour, startTime24.minute, 0, 0);
            
            const endDate = new Date();
            endDate.setHours(endTime24.hour, endTime24.minute, 0, 0);
            
            // Handle case where end time is before start time (assume next day)
            if (endDate < startDate) {
                endDate.setDate(endDate.getDate() + 1);
            }
            
            // Calculate difference
            const diffMs = endDate - startDate;
            const diffSec = Math.floor(diffMs / 1000);
            const hours = Math.floor(diffSec / 3600);
            const minutes = Math.floor((diffSec % 3600) / 60);
            const seconds = diffSec % 60;
            
            // Display result
            document.getElementById('difference-output').textContent = 
                `${hours} hours, ${minutes} minutes, ${seconds} seconds`;
            
            document.getElementById('difference-result').style.display = 'block';
            
            // Animate animals when calculation is done
            animateAnimals();
        });
        
        document.getElementById('reset-difference').addEventListener('click', function() {
            document.getElementById('start-hour').value = '09';
            document.getElementById('start-minute').value = '00';
            document.getElementById('start-ampm').value = 'AM';
            
            document.getElementById('end-hour').value = '05';
            document.getElementById('end-minute').value = '00';
            document.getElementById('end-ampm').value = 'PM';
            
            document.getElementById('difference-result').style.display = 'none';
        });
        
        // Validate hour and minute inputs
        document.querySelectorAll('.time-input-12hr').forEach(input => {
            input.addEventListener('input', function() {
                // Remove non-numeric characters
                this.value = this.value.replace(/\D/g, '');
                
                // Limit to 2 digits
                if (this.value.length > 2) {
                    this.value = this.value.substring(0, 2);
                }
                
                // Auto-advance to next field
                if (this.value.length === 2 && this.id.includes('hour')) {
                    document.getElementById(this.id.replace('hour', 'minute')).focus();
                }
            });
        });
        
        // Time Addition Calculator
        let timeEntryCount = 1;
        
        document.getElementById('add-time').addEventListener('click', function() {
            const timeEntries = document.getElementById('time-entries');
            const newEntry = document.createElement('div');
            newEntry.classList.add('time-entry');
            newEntry.innerHTML = `
                <input type="time" class="time-input" value="00:30">
                <button class="remove-time" title="Remove time"><i class="fas fa-times"></i></button>
            `;
            
            timeEntries.appendChild(newEntry);
            timeEntryCount++;
            
            // Add event listener to the new remove button
            newEntry.querySelector('.remove-time').addEventListener('click', function() {
                if (timeEntryCount > 1) {
                    newEntry.remove();
                    timeEntryCount--;
                }
            });
        });
        
        // Add event listener to initial remove button
        document.querySelector('.remove-time').addEventListener('click', function() {
            if (timeEntryCount > 1) {
                this.parentElement.remove();
                timeEntryCount--;
            }
        });
        
        document.getElementById('calculate-total').addEventListener('click', function() {
            const timeInputs = document.querySelectorAll('.time-input');
            let totalSeconds = 0;
            
            timeInputs.forEach(input => {
                const time = input.value;
                if (time) {
                    const [hours, minutes] = time.split(':').map(Number);
                    totalSeconds += hours * 3600 + minutes * 60;
                }
            });
            
            const hours = Math.floor(totalSeconds / 3600);
            const minutes = Math.floor((totalSeconds % 3600) / 60);
            const seconds = totalSeconds % 60;
            
            document.getElementById('total-output').textContent = 
                `${hours} hours, ${minutes} minutes, ${seconds} seconds`;
            
            document.getElementById('total-result').style.display = 'block';
            
            // Animate animals when calculation is done
            animateAnimals();
        });
        
        document.getElementById('reset-total').addEventListener('click', function() {
            const timeEntries = document.getElementById('time-entries');
            
            // Remove all but the first time entry
            while (timeEntries.children.length > 1) {
                timeEntries.lastChild.remove();
            }
            
            // Reset the first time entry
            timeEntries.querySelector('.time-input').value = '01:30';
            timeEntryCount = 1;
            
            document.getElementById('total-result').style.display = 'none';
        });
        
        // Animate animals when calculations are performed
        function animateAnimals() {
            const animals = document.querySelectorAll('.animal');
            
            animals.forEach(animal => {
                // Briefly change the animation to make them "jump"
                const originalAnimation = animal.style.animation;
                animal.style.animation = 'none';
                
                setTimeout(() => {
                    animal.style.animation = originalAnimation;
                }, 100);
            });
            
            // Make birds fly faster temporarily
            const birds = document.querySelectorAll('.bird');
            birds.forEach(bird => {
                const originalDuration = bird.style.animationDuration;
                bird.style.animationDuration = '8s';
                
                setTimeout(() => {
                    bird.style.animationDuration = originalDuration;
                }, 3000);
            });
            
            // Make fireflies brighter
            const fireflies = document.querySelectorAll('.firefly');
            fireflies.forEach(firefly => {
                firefly.style.boxShadow = '0 0 15px 8px #fff9c4';
                
                setTimeout(() => {
                    firefly.style.boxShadow = '0 0 10px 5px #fff9c4';
                }, 1000);
            });
        }
        
        // Initialize the page
        window.addEventListener('DOMContentLoaded', function() {
            createLeaves();
            createFireflies();
            
            // Set current time as default for time difference calculator
            const now = new Date();
            let hours = now.getHours();
            let minutes = now.getMinutes();
            let ampm = 'AM';
            
            // Convert to 12-hour format
            if (hours >= 12) {
                ampm = 'PM';
                if (hours > 12) hours -= 12;
            }
            if (hours === 0) hours = 12;
            
            // Format minutes with leading zero
            minutes = minutes.toString().padStart(2, '0');
            
            document.getElementById('start-hour').value = hours;
            document.getElementById('start-minute').value = minutes;
            document.getElementById('start-ampm').value = ampm;
            
            // Set end time to 2 hours later
            const endTime = new Date(now.getTime() + 2 * 60 * 60 * 1000);
            let endHours = endTime.getHours();
            let endMinutes = endTime.getMinutes();
            let endAmPm = 'AM';
            
            // Convert to 12-hour format
            if (endHours >= 12) {
                endAmPm = 'PM';
                if (endHours > 12) endHours -= 12;
            }
            if (endHours === 0) endHours = 12;
            
            // Format minutes with leading zero
            endMinutes = endMinutes.toString().padStart(2, '0');
            
            document.getElementById('end-hour').value = endHours;
            document.getElementById('end-minute').value = endMinutes;
            document.getElementById('end-ampm').value = endAmPm;
        });
    </script>
</body>
</html>
